{% extends "base.html" %}
{% load my_filters %}
{% load i18n %}
{% load static %}
{% block content %}
    <div class="flex">
        {% include "components/profile_navbar.html" %}
        <section class="px-52 w-full text-center max-w-7xl pt-20">
            <h2>Create a new article</h2>
            <form method="post"
                  class="w-full"
                  action="{% url "article-creation" %}"
                  enctype="multipart/form-data">
                {% csrf_token %}
                <label class="block">Title</label>
                <input type="text" name="title" />
                <label class="block">content</label>
                <div>{{ form.content }}</div>
                <label class="block py-5">
                    <input type="file" name="image" accept="image/*" class="ml-3">
                </label>
                <button type="submit"
                        class="bg-orange-600 text-white px-10 rounded-lg py-2 float-right">Create Article</button>
            </form>
            <div class="clear-right text-center ">
                <h1 class="text-xl font-bold py-6">My blog articles</h1>
                <div class="flex flex-wrap">
                    {% for article in articles.all %}
                        <a href="{% url "article-detail" article.id %}">
                            <div class="bg-orange-50 h-64 w-44 rounded-lg mx-4 pb-4 hover:scale-105 transition hover:shadow-lg overflow-hidden my-10">
                                <img src="{{ article.image.image.url | mino_to_localhost }}"
                                     class="w-full h-32 object-cover"
                                     alt="cover for {{ article.title }} article" />
                                <h1 class="text-xl font-bold pt-3">{{ article.title }}</h1>
                                <h2 class="text-justify px-4">{{ article.content.html | safe }}</h2>
                            </div>
                        </a>
                    {% empty %}
                        <p>No articles yet.</p>
                    {% endfor %}
                </div>
            </div>
        </section>
    </div>
    <style>
        .ql-editor{
          min-height:200px;
      }
    </style>
{% endblock content %}
