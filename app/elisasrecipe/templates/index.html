{% extends "base.html" %}
{% load static tailwind_tags %}
{% load i18n %}
{% block extra_head %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Damion&display=swap"
          rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Damion&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
          rel="stylesheet">
{% endblock extra_head %}
{% block content %}
    <div class="m-16" id="top-of-the-page">
        {% include "navbar.html" %}
        <div class=" mx-auto py-6 sm:px-6 lg:px-8 pt-20">
            <h1 class="text-center font-bold text-9xl title -ml-4 text-blue-950"
                data-test="title">{% translate "Welcome to Elisa's corner!" %}</h1>
            <h2 class=" text-center text-slate-600 font-light text-lg ml-10">{% translate "intro-to-elisa" %}</h2>
            {% include "searchbar.html" %}
            {% if user.is_authenticated %}
                {% url 'article:new' as article_new %}
                {% url 'recipe:new' as recipe_new %}
                <div>
                    <div class="float-left">
                        {% include "btn.html" with url=article_new link_text="Create Article" dataTest="create-article" %}
                    </div>
                    <div class="float-right">
                        {% include "btn.html" with url=recipe_new link_text="Create recipe" dataTest="create-recipe" %}
                    </div>
                </div>
            {% endif %}
            <div class=" w-full clear-both">{% include "feed.html" %}</div>
        </div>
    </div>
    {% load my_filters %}
    <div>
        <a href="#top-of-the-page"
           class="fixed bottom-3 right-5 mb-4 mr-4 hidden animate-bounce"
           id="backToTop">
            <svg xmlns="http://www.w3.org/2000/svg"
                 width="42"
                 height="42"
                 viewBox="0 0 24 24">
                <g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                    <path d="M0 0h24v24H0z" />
                    <path fill="currentColor" d="M17 3.34a10 10 0 1 1-14.995 8.984L2 12l.005-.324A10 10 0 0 1 17 3.34M12.02 7l-.163.01l-.086.016l-.142.045l-.113.054l-.07.043l-.095.071l-.058.054l-4 4l-.083.094a1 1 0 0 0 1.497 1.32L11 10.414V16l.007.117A1 1 0 0 0 13 16v-5.585l2.293 2.292l.094.083a1 1 0 0 0 1.32-1.497l-4-4l-.082-.073l-.089-.064l-.113-.062l-.081-.034l-.113-.034l-.112-.02z" />
                </g>
            </svg>
        </a>
    </div>
    <footer id="myFooter">
        {% include "footer.html" %}
    </footer>
    <script>
        var lastScrollTop = 0;
        var btn = document.getElementById("backToTop");

        window.addEventListener("scroll", function() {
            var currentScroll = window.pageYOffset || document.documentElement.scrollTop;
            if (currentScroll > lastScrollTop){
                // downscroll code
                btn.classList.remove("hidden");
            } else {
                btn.classList.add("hidden");
                // upscroll code
            }
            lastScrollTop = currentScroll <= 0 ? 0 : currentScroll; // For Mobile or negative scrolling
        }, false);
    </script>
    <style>
        .title {
            font-family: 'Damion', cursive;
        }

    </style>
{% endblock content %}
